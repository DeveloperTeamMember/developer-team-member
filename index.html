<!doctype html>
<html>
  <head>
    <link rel="stylesheet" href="style.css">
    <title>DeveloperTeamMember's blog!</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1>DeveloperTeamMember's blog!</h1>
Hello there, I'm DeveloperTeamMember and it's a plesure for me to see you here! In this blog I will talk about music, gaming and code! In a future update I will also make a comment area!
    Update: 2020-04-05
    <ul>
      <li><a href="<li><a href="https://github.com/DeveloperTeamMember">Link to my GitHub profile</a></li>
    </ul>
    <h2>Stay tuned!</h2>
    <img src="https://avatars0.githubusercontent.com/u/63124898?s=460&v=4">

  <div class="row">
    <div class="col-md-6 col-md-offset-3">

      <div class="page-header">
        <h1>Forum</h1>
      </div>

      <div class="posts">
      </div>

      <form style="margin-top:30px;" onsubmit="event.preventDefault();">
        <h3>Add a new post</h3>
        
        <div class="form-group">
          <input id="name" type="text"
            class="form-control"
            placeholder="Name"></input>
        </div>
        
        <div class="form-group">
          <textarea id="message" type="text"
          class="form-control"
          placeholder="Message"></textarea>
        </div>
        
        <button id="submit" class="btn btn-primary">Post</button>
   
      </form>

    </div>
  </div>
  
  <script src="main.js"></script>
module.exports = function(app, passport){
    app.get('/', function(req, res){
        res.render('index.ejs');
    });

    app.get('/login', function(req, res){
        res.render('login.ejs', {message:req.flash('loginMessage')});
    });

    app.post('/login',passport.authenticate('local-login',{
        successRedirect: '/profile',
        failureRedirect: '/login',
        failureFlash: true
    }),
    function(req, res){
        if(req.body.remember){
            req.session.cookie.maxAge = 1000*60*3;
        }else{
            req.session.cookie.expires = false;
        }
        res.redirect('/');
    });

    app.get('/signup', function(req, res){
        res.render('signup.ejs', {message: req.flash('signupMessage')});
    });

    app.post('/signup', passport.authenticate('local-signup',{
        successRedirect: '/profile', 
        failureRedirect: '/signup',
        failureFlash: true
    }));

    app.get('/profile', isLoggedIn, function(req, res){
        res.render('profile.ejs',{
            user:req.user
        });
    });

    app.get('/logout', function(req,res){
        req.logout();
        res.redirect('/');
    })
};

function isLoggedIn(req, res, next){
    if(req.isAuthenticated())
    return next();

    res.redirect('/');
}
        module.exports ={
     'connection':{
        'host': 'localhost',
        'user': 'root',
        'password': ''
    },
    'database':'nodelogin',
    'user_table':'users'
}
  </body>
</html>
